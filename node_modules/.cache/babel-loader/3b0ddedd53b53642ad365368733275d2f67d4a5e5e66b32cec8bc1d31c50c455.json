{"ast":null,"code":"import _objectSpread from\"/Users/rhiannonhayes/Desktop/sew-lovely-react-final/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/rhiannonhayes/Desktop/sew-lovely-react-final/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{NavLink}from\"react-router-dom\";import{useDispatch,useSelector}from'react-redux';import{addCart}from'../../../redux/action';import useHasChanged from'../../../hooks/use-has-changed.tsx';import useFirstRender from'../../../hooks/use-first-render.tsx';import classes from\"./PLPProduct.module.css\";import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var PLPProduct=function PLPProduct(props){var _props$sizes;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),active=_useState2[0],setActive=_useState2[1];var cart=useSelector(function(cart){return cart.handleCart;});var firstRender=useFirstRender();var cartNum=cart.reduce(function(acc,obj){return acc+obj.qty;},0);//Check if these values have changed\nvar activeHasChanged=useHasChanged(active);var cartNumHasChanged=useHasChanged(cartNum);useEffect(function(){if(cartNumHasChanged&&!firstRender){alert(\"Added to cart!\");}else if(activeHasChanged){return;}else{alert(\"WOAH! You added the maximum amount of this product!\");}});//For products with sizes\nvar updatedSku=active?props.sku+\"-\"+active:props.sku;var dispatch=useDispatch();var addProduct=function addProduct(props){dispatch(addCart(_objectSpread(_objectSpread({},props),{},{sku:updatedSku,selected_size:active})));};var qty_wording=\"\";if(+props.quantity_available<=10&&+props.quantity_available!=1&&+props.quantity_available!=0){qty_wording=/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:20+\"px\",fontWeight:\"bold\",marginTop:15+\"px\"},children:[\"Only \",props.quantity_available,\" left!\"]});}else if(+props.quantity_available==1){qty_wording=/*#__PURE__*/_jsx(\"p\",{style:{fontSize:20+\"px\",fontWeight:\"bold\",marginTop:15+\"px\",color:\"red\"},className:classes.wording,children:\"LAST ONE!\"});}else if(+props.quantity_available==0){qty_wording=/*#__PURE__*/_jsx(\"p\",{style:{fontSize:20+\"px\",fontWeight:\"bold\",marginTop:15+\"px\",color:\"red\"},children:\"OUT OF STOCK!\"});}else{qty_wording=/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:20+\"px\",fontWeight:\"bold\",marginTop:15+\"px\"},children:[props.quantity_available,\" available\"]});}return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:12,lg:12,xl:6,children:/*#__PURE__*/_jsx(\"img\",{src:props.image,className:classes.single_image})}),/*#__PURE__*/_jsxs(Col,{md:12,lg:12,xl:5,className:classes.container,children:[/*#__PURE__*/_jsx(\"h2\",{className:classes.single_title,children:props.title}),/*#__PURE__*/_jsx(\"span\",{className:classes.single_price,children:/*#__PURE__*/_jsxs(\"strike\",{children:[\"$\",parseFloat(props.msrp).toFixed(2)]})}),/*#__PURE__*/_jsxs(\"span\",{className:classes.single_new_price,children:[\"\\xA0$\",parseFloat(props.price).toFixed(2)]}),/*#__PURE__*/_jsx(\"div\",{children:qty_wording}),/*#__PURE__*/_jsx(\"h3\",{className:classes.brand,children:props.brand}),/*#__PURE__*/_jsx(\"p\",{className:classes.desc,children:props.description}),/*#__PURE__*/_jsx(\"br\",{}),(_props$sizes=props.sizes)===null||_props$sizes===void 0?void 0:_props$sizes.map(function(size){return/*#__PURE__*/_jsx(\"span\",{className:classes.btn_container,children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setActive(size);},className:\"\".concat(classes.size_btn,\" \").concat(active==size?classes.active_val:'not-selected'),children:size})});}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),+props.quantity_available!=0?/*#__PURE__*/_jsx(\"button\",{disabled:active==null&&props.sizes?true:false,className:classes.cart_btn,onClick:function onClick(){return addProduct(props);},children:\"Add to Cart\"}):/*#__PURE__*/_jsx(\"button\",{disabled:\"true\",className:classes.cart_btn,children:\"Out of Stock\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/cart\",className:classes.go_to_cart_btn,children:\"Go To Cart\"})]})]})});};export default PLPProduct;","map":{"version":3,"names":["React","useState","useEffect","NavLink","useDispatch","useSelector","addCart","useHasChanged","useFirstRender","classes","Container","Row","Col","PLPProduct","props","active","setActive","cart","handleCart","firstRender","cartNum","reduce","acc","obj","qty","activeHasChanged","cartNumHasChanged","alert","updatedSku","sku","dispatch","addProduct","selected_size","qty_wording","quantity_available","fontSize","fontWeight","marginTop","color","wording","image","single_image","container","single_title","title","single_price","parseFloat","msrp","toFixed","single_new_price","price","brand","desc","description","sizes","map","size","btn_container","size_btn","active_val","cart_btn","go_to_cart_btn"],"sources":["/Users/rhiannonhayes/Desktop/sew-lovely-react-final/src/components/Products/PLP/PLPProduct.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { NavLink } from \"react-router-dom\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addCart } from '../../../redux/action';\nimport useHasChanged from '../../../hooks/use-has-changed.tsx';\nimport useFirstRender from '../../../hooks/use-first-render.tsx';\n\nimport classes from \"./PLPProduct.module.css\";\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nconst PLPProduct = (props) => {\n\n  const [active, setActive] = useState(null)\n  const cart = useSelector((cart) => cart.handleCart);\n  const firstRender = useFirstRender()\n  let cartNum = cart.reduce(function (acc, obj) { return acc + obj.qty; }, 0);\n\n  //Check if these values have changed\n  const activeHasChanged = useHasChanged(active)\n  const cartNumHasChanged = useHasChanged(cartNum)\n\n  useEffect(() => {\n\n    if (cartNumHasChanged && !firstRender) {\n      alert(\"Added to cart!\")\n    } else if(activeHasChanged) {\n     return;\n    } else {\n      alert(\"WOAH! You added the maximum amount of this product!\")\n    }\n  });\n\n  //For products with sizes\n  const updatedSku = active ? props.sku + \"-\" + active : props.sku;\n\n  const dispatch = useDispatch();\n  const addProduct = (props) => {\n      dispatch(addCart({\n        ...props,\n        sku: updatedSku,\n        selected_size: active\n      }));\n  }\n\n  let qty_wording = \"\"\n\n  if(+props.quantity_available <= 10 && +props.quantity_available != 1 && +props.quantity_available != 0) {\n    qty_wording = \n    <p style={{fontSize: 20 + \"px\", \n    fontWeight: \"bold\",\n    marginTop: 15 + \"px\"}}>\n    Only {props.quantity_available} left!</p>\n  } else if(+props.quantity_available == 1) {\n    qty_wording = <p style={{fontSize: 20 + \"px\", \n    fontWeight: \"bold\",\n    marginTop: 15 + \"px\",\n    color: \"red\"\n    }} className={classes.wording}>LAST ONE!</p>\n  } else if(+props.quantity_available == 0) {\n    qty_wording = <p style={{fontSize: 20 + \"px\", \n    fontWeight: \"bold\",\n    marginTop: 15 + \"px\",\n    color: \"red\"\n    }}>OUT OF STOCK!</p>\n  } else {\n    qty_wording = <p style={{fontSize: 20 + \"px\", \n    fontWeight: \"bold\",\n    marginTop: 15 + \"px\"\n    }}>{props.quantity_available} available</p>\n  }\n\n  return (\n    <Container>\n    <Row>\n    <Col md={12} lg={12} xl={6}>\n      <img src={props.image} className={classes.single_image} />\n      </Col>\n      <Col md={12} lg={12} xl={5} className={classes.container}>\n      <h2 className={classes.single_title}>{props.title}</h2>\n      <span className={classes.single_price}><strike>${parseFloat(props.msrp).toFixed(2)}</strike></span>\n      <span className={classes.single_new_price}>&nbsp;${parseFloat(props.price).toFixed(2)}</span>\n      <div>{qty_wording}</div>\n      <h3 className={classes.brand}>{props.brand}</h3>\n      <p className={classes.desc}>{props.description}</p>\n      <br />\n      {props.sizes?.map((size) => (\n        <span className={classes.btn_container}>\n        <button onClick={() => setActive(size)}\n        className={`${classes.size_btn} ${active == size ? classes.active_val : 'not-selected'}`}\n        >{size}</button>\n        </span>\n      ))}\n      <br />\n      <br />\n      {+props.quantity_available != 0 ? \n      <button disabled={active == null && props.sizes ? true : false}\n            className={classes.cart_btn}\n            onClick={() => addProduct(props)}\n          >\n            Add to Cart\n          </button> : \n          <button disabled=\"true\"\n            className={classes.cart_btn}\n          >\n            Out of Stock\n          </button>} \n\n                   <NavLink to=\"/cart\" className={classes.go_to_cart_btn}>\n                       Go To Cart\n                   </NavLink>\n      </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default PLPProduct;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}