{"ast":null,"code":"import _toConsumableArray from\"/Users/rhiannonhayes/Desktop/sew-lovely-react-final/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/rhiannonhayes/Desktop/sew-lovely-react-final/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";var cart=[];var handleCart=function handleCart(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:cart;var action=arguments.length>1?arguments[1]:undefined;var product=action.payload;switch(action.type){case\"ADDITEM\":// Check if Product already exists\nvar exist=state.find(function(x){return x.sku===product.sku;});if(exist){// Increase the quantity\nreturn state.map(function(x){return x.sku===product.sku?_objectSpread(_objectSpread({},x),{},{//check if quantity available is greater than quantity in cart; if so, don't add more\nqty:parseFloat(product.quantity_available)>=x.qty+1?x.qty+1:x.qty}):x;});}else{var _product=action.payload;return[].concat(_toConsumableArray(state),[_objectSpread(_objectSpread({},_product),{},{qty:1})]);}break;case\"DELETEITEM\":var exist1=state.find(function(x){return x.sku===product.sku;});if(exist1.qty===1){return state.filter(function(x){return x.sku!==exist1.sku;});}else{return state.map(function(x){return x.sku===product.sku?_objectSpread(_objectSpread({},x),{},{qty:x.qty-1}):x;});}break;default:return state;break;}};export default handleCart;","map":{"version":3,"names":["cart","handleCart","state","action","product","payload","type","exist","find","x","sku","map","qty","parseFloat","quantity_available","exist1","filter"],"sources":["/Users/rhiannonhayes/Desktop/sew-lovely-react-final/src/redux/reducer/handleCart.js"],"sourcesContent":["const cart = [];\n\nconst handleCart = (state = cart, action) => {\n  const product = action.payload;\n  switch (action.type) {\n    case \"ADDITEM\":\n      // Check if Product already exists\n      const exist = state.find((x) => x.sku === product.sku);\n      if (exist) {\n        // Increase the quantity\n        return state.map((x) =>\n          x.sku === product.sku ? { \n            ...x, \n            //check if quantity available is greater than quantity in cart; if so, don't add more\n            qty: parseFloat(product.quantity_available) >= x.qty + 1 ? x.qty + 1 : x.qty\n          } : x\n        );\n      } else {\n        const product = action.payload;\n        return [\n          ...state,\n          {\n            ...product,\n            qty: 1,\n          },\n        ];\n      }\n      break;\n\n    case \"DELETEITEM\":\n      const exist1 = state.find((x) => x.sku === product.sku);\n      if (exist1.qty === 1) {\n        return state.filter((x) => x.sku !== exist1.sku);\n      } else {\n        return state.map((x) =>\n          x.sku === product.sku ? { ...x, qty: x.qty - 1 } : x\n        );\n      }\n      break;\n\n    default:\n      return state;\n      break;\n  }\n};\n\nexport default handleCart;"],"mappings":"yRAAA,GAAMA,KAAI,CAAG,EAAE,CAEf,GAAMC,WAAU,CAAG,QAAbA,WAAU,EAA6B,IAAzBC,MAAK,2DAAGF,IAAI,IAAEG,OAAM,2CACtC,GAAMC,QAAO,CAAGD,MAAM,CAACE,OAAO,CAC9B,OAAQF,MAAM,CAACG,IAAI,EACjB,IAAK,SAAS,CACZ;AACA,GAAMC,MAAK,CAAGL,KAAK,CAACM,IAAI,CAAC,SAACC,CAAC,QAAKA,EAAC,CAACC,GAAG,GAAKN,OAAO,CAACM,GAAG,GAAC,CACtD,GAAIH,KAAK,CAAE,CACT;AACA,MAAOL,MAAK,CAACS,GAAG,CAAC,SAACF,CAAC,QACjBA,EAAC,CAACC,GAAG,GAAKN,OAAO,CAACM,GAAG,gCAChBD,CAAC,MACJ;AACAG,GAAG,CAAEC,UAAU,CAACT,OAAO,CAACU,kBAAkB,CAAC,EAAIL,CAAC,CAACG,GAAG,CAAG,CAAC,CAAGH,CAAC,CAACG,GAAG,CAAG,CAAC,CAAGH,CAAC,CAACG,GAAG,GAC1EH,CAAC,GACN,CACH,CAAC,IAAM,CACL,GAAML,SAAO,CAAGD,MAAM,CAACE,OAAO,CAC9B,mCACKH,KAAK,kCAEHE,QAAO,MACVQ,GAAG,CAAE,CAAC,KAGZ,CACA,MAEF,IAAK,YAAY,CACf,GAAMG,OAAM,CAAGb,KAAK,CAACM,IAAI,CAAC,SAACC,CAAC,QAAKA,EAAC,CAACC,GAAG,GAAKN,OAAO,CAACM,GAAG,GAAC,CACvD,GAAIK,MAAM,CAACH,GAAG,GAAK,CAAC,CAAE,CACpB,MAAOV,MAAK,CAACc,MAAM,CAAC,SAACP,CAAC,QAAKA,EAAC,CAACC,GAAG,GAAKK,MAAM,CAACL,GAAG,GAAC,CAClD,CAAC,IAAM,CACL,MAAOR,MAAK,CAACS,GAAG,CAAC,SAACF,CAAC,QACjBA,EAAC,CAACC,GAAG,GAAKN,OAAO,CAACM,GAAG,gCAAQD,CAAC,MAAEG,GAAG,CAAEH,CAAC,CAACG,GAAG,CAAG,CAAC,GAAKH,CAAC,GACrD,CACH,CACA,MAEF,QACE,MAAOP,MAAK,CACZ,MAAM,CAEZ,CAAC,CAED,cAAeD,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}